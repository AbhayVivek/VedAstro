@*Component to show loading message to user*@

@*by default invisible*@

<div @ref="_loadingMessage" style="display: none;">
    <div  class="modal fade show" tabindex="-1" role="dialog" style="display: block">
        <div class="modal-dialog modal-dialog-centered" style="width: fit-content;" role="document">
            <div class="modal-content">
                <div class="modal-body align-content-center">
                    <img src="images/loading-animation.gif" />
                </div>
            </div>
        </div>
    </div>

    <div  class="modal-backdrop fade show"></div>
</div>




@code {

    private bool _isOpen = false;

    /// <summary>
    /// If true page is ready
    /// </summary>
    public bool PageReady = false;


    //REFERENCE TO HTML ELEMENTS
    private ElementReference _loadingMessage;


    protected override void OnAfterRender(bool firstRender)
    {
        //mark page as ready
        if (firstRender) { PageReady = true; }
    }

    /// <summary>
    /// Show loading message
    /// </summary>
    public async Task Show()
    {
        //if already open end here
        if (_isOpen) { return; }

        //show the modal & backdrop
        await _jsRuntime.show(_loadingMessage);

        _isOpen = true;

    }

    /// <summary>
    /// Hide loading message
    /// </summary>
    public async Task Hide()
    {
        //if already close end here
        if (!_isOpen) { return; }

        await _jsRuntime.hide(_loadingMessage);

        _isOpen = false;
    }

}
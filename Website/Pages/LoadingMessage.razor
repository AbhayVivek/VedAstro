@*Component to show loading message to user*@

@*by default invisible*@



<div @ref="_loadingMessage" style="display: none;">
    <div class="modal fade show" tabindex="-1" role="dialog" style="display: block">
        <div class="modal-dialog modal-dialog-centered" style="width: fit-content;" role="document">
            <div class="modal-content">
                <div class="modal-body align-content-center">
                    <img src="images/loading-animation.gif" />
                </div>
            </div>
        </div>
    </div>

    <div class="modal-backdrop fade show"></div>
</div>




@code {

    private bool _isOpen = false;


    //REFERENCE TO HTML ELEMENTS
    private ElementReference _loadingMessage;



    /// <summary>
    /// Show loading message
    /// </summary>
    public async Task Show()
    {
        //if already open end here
        if (_isOpen) { return; }

        //if not ready wait
        await _globalVariable.WaitTillComponentReady();

        //show the modal
        await _jsRuntime.show(_loadingMessage);

        _isOpen = true;

    }

    /// <summary>
    /// Hide loading message
    /// </summary>
    public async Task Hide()
    {
        //if already close end here
        if (!_isOpen) { return; }

        //if not ready wait
        await _globalVariable.WaitTillComponentReady();

        //hide loading box
        await _jsRuntime.hide(_loadingMessage);

        _isOpen = false;
    }

}